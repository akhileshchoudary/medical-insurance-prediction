<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Insurance Prediction</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 50px; }
        form { max-width: 400px; margin: auto; }
        label { display: block; margin: 10px 0 5px; }
        input, select { width: 100%; padding: 8px; margin-bottom: 15px; }
        button { background-color: #4CAF50; color: white; padding: 10px; border: none; cursor: pointer; }
        button:hover { background-color: #45a049; }
        #result { margin-top: 20px; font-weight: bold; }
    </style>
</head>
<body>
    <h1>Medical Insurance Cost Prediction</h1>
    <form id="insuranceForm">
        <label for="age">Age:</label>
        <input type="number" id="age" name="age" min="18" max="100" required>

        <label for="sex">Sex:</label>
        <select id="sex" name="sex" required>
            <option value="female">Female</option>
            <option value="male">Male</option>
        </select>

        <label for="bmi">BMI:</label>
        <input type="number" id="bmi" name="bmi" step="0.1" min="10" max="50" required>

        <label for="children">Number of Children:</label>
        <input type="number" id="children" name="children" min="0" max="10" required>

        <label for="smoker">Smoker:</label>
        <select id="smoker" name="smoker" required>
            <option value="yes">Yes</option>
            <option value="no">No</option>
        </select>

        <label for="region">Region:</label>
        <select id="region" name="region" required>
            <option value="southwest">Southwest</option>
            <option value="southeast">Southeast</option>
            <option value="northwest">Northwest</option>
            <option value="northeast">Northeast</option>
        </select>

        <button type="submit">Predict</button>
    </form>
    <div id="result"></div>

    <script>
        document.getElementById("insuranceForm").addEventListener("submit", async (e) => {
            e.preventDefault();
            const formData = {
                age: parseInt(document.getElementById("age").value),
                sex: document.getElementById("sex").value,
                bmi: parseFloat(document.getElementById("bmi").value),
                children: parseInt(document.getElementById("children").value),
                smoker: document.getElementById("smoker").value,
                region: document.getElementById("region").value
            };
            const response = await fetch("/predict", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(formData)
            });
            const result = await response.json();
            document.getElementById("result").innerText = `Predicted Charges: $${result.predicted_charges}`;
        });
    </script>
</body>
</html>